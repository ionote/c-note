# 数据类型

## 基本数据类型

### 整型

**整数类型及其大小**

- int：标准整型，通常占用4个字节，范围为-2,147,483,648到2,147,483,647。
- short：短整型，占用2个字节，范围为-32,768到32,767。
- long：长整型，通常占用4或8个字节。
- long long：更长的整型，至少占用8个字节。
- unsigned：无符号整型，不包含负数，范围从0开始。

**为什么 int 和 long int 占用的字节数相同?**

- C 标准规定 int 类型至少要能表示 16 位有符号整数的范围。但实际上,在大多数现代计算机系统上,int 类型都被实现为 32 位。
- 对于 long int 类型,C 标准只要求它至少能表示 32 位有符号整数的范围。因此,在很多系统上,long int 的实现也是 32 位,与 int 类型相同。
- 之所以会出现这种情况,是因为 32 位整数已经足够应付大多数应用场景的需求。为了提高代码的可移植性和效率,编译器通常会把 int 和 long int 都实现为 32 位。
- 当需要处理更大整数范围时,才会使用 long long int 类型,它通常占用 64 位。

**整数类型的输出格式**

使用 printf() 函数打印整数时,可以使用不同的格式化符号:

- %d 用于十进制整数
- %o 用于八进制整数
- %x 用于十六进制整数
- %hd 用于 short 整数
- %ld 用于 long 整数
- %lld 用于 long long 整数

**无符号整数类型**

- unsigned int 和 unsigned long 是无符号整数类型
- 无符号整数的取值范围从 0 到对应有符号类型的最大值
- 可以使用 UINT_MAX 和 0 分别获取无符号整数的最大值和最小值

**整数类型的选择**

- 在编程时,需要根据实际需求选择合适的整数类型
- 通常情况下,int 类型已经足够满足大多数需求
- 当需要表示更大或更小的数值范围时,才需要使用 short、long 或 long long 类型
- 无符号整数类型在某些情况下也会更加适用,如表示非负数值

### 字符型

**字符类型**

- char 是 C 语言中用于表示字符的基本数据类型
- char 类型通常占用 1 个字节(8 位)的存储空间
- char 类型可以表示 -128 到 127 之间的整数值,或 0 到 255 之间的无符号整数值
- 对于char 型变量,存储的都是一个数字(整数),而这个数字代表的是某个字符的 ASCII 编码值
- 字符常量用单引号 ' 括起来,如 'a'、'1'、' '

**字符编码**

- 在 C 语言中,字符使用 ASCII 编码表示,每个字符对应一个 0-255 之间的整数值
- ASCII 编码只能表示 127 个字符,无法表示所有语言的字符
- 为了解决这个问题,引入了 Unicode 编码标准,使用 wchar_t 类型表示

**转义字符**

- 转义字符是一种特殊的字符,用于表示一些无法直接输入的字符
- 转义字符以反斜杠 \ 开头,用于表示特殊字符,如 \n(换行)、\t(制表符)、\\(反斜杠)
- 可以使用八进制或十六进制形式的转义字符,如 '\61'(等价于 '1')、'\x31'(等价于 '1')

**字符串**

- 字符串在 C 语言中使用以 null 字符 '\0' 结尾的 char 数组表示
- 可以使用字符串字面量 "中" 来初始化字符串
- 字符串字面量实际上是一个以 null 字符结尾的 char 数组


### 浮点型


**浮点类型**

- float：单精度浮点数，占用4个字节，精度约为6-7位有效数字。
- double：双精度浮点数，占用8个字节，精度约为15-16位有效数字。
- long double：扩展精度浮点数，通常占用12或16个字节，精度更高。

**浮点数的使用**

- 定义浮点常量时,可以在数字后加 f 或 F 表示 float 类型,不加则默认为 double 类型
- 浮点数的输出使用 %f 格式化符
- 浮点数的比较需要小心,因为存在精度误差
- 浮点数不适合用于表示货币金额,应该使用定点数类型(如 long long 或自定义数据结构)

**浮点数精度问题**

- 由于浮点数的二进制表示方式,无法精确表示某些十进制小数
- 这会导致浮点数计算结果出现微小的误差,需要注意这一点
- 比如代码中的 39.908156f - lat 的结果并不是精确的 0


## C 语言中 int 和 float 类型的大小规定

**int 类型的大小:**

- C 标准没有明确规定 int 类型占用多少字节,但通常情况下:
- 在大多数系统上,int 类型占用 4 个字节(32 位)
- 在某些嵌入式系统上,int 类型可能占用 2 个字节(16 位)
- int 类型能表示的值范围通常为 -2,147,483,648 到 2,147,483,647。

**float 类型的大小:**

- C 标准规定 float 类型必须至少占用 4 个字节(32 位)
- 在大多数系统上,float 类型确实占用 4 个字节
- float 类型能够表示的数值范围大约在 10^-37 到 10^37 之间,并且能保证 6-7 位有效数字的精度。

**double 类型的大小:**

- C 标准规定 double 类型必须至少占用 8 个字节(64 位)
- 在大多数系统上,double 类型确实占用 8 个字节
- double 类型能够表示的数值范围大约在 10^-307 到 10^308 之间,并且能保证 15-16 位有效数字的精度。

## 枚举类型（Enumerated Type）

enum：枚举类型，用于定义一组命名整数常量，提高代码可读性。

## 复合数据类型

### 数组（Array）

存储相同类型元素的集合，通过索引访问。

### 结构体（Structure）

struct：用户定义的数据类型，可以包含不同类型的数据成员。

### 联合体（Union）

union：类似于结构体，但所有成员共享同一块内存，节省空间。

### 指针（Pointer）

用于存储内存地址，可以指向任何数据类型，强大的特性使其在内存管理和数据结构操作中非常重要。

## 类型限定符

- const：定义常量，值不能修改。
- volatile：提示编译器变量可能随时变化。
- restrict：用于指针，提示编译器指针是唯一访问某对象的方式。

## 类型定义

typedef：为现有类型创建新的名称，提高代码可读性和可维护性。